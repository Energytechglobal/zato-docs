.. highlight:: sh

Installation on Alpine Linux
============================

Requirements
------------

* Alpine Linux 3.6.1 or later, *vanilla* flavour preferred.
* Root access

Installation steps
------------------

* Log in as root

::

    alpine$ su -


* If it has not been done before: add Zato's public key to the accepted key list

::
    alpine# cd /etc/apk/keys
    alpine# wget https://zato.io/repo/zato-0CBD7F72.rsa.pub


* If it has not been done before: edit your repository list so it includes the
repositories containing the Zato package and its dependencies. You need to
have at least the following uncommented lines in your ``/etc/apk/repositories``
file:

::
    https://dl-cdn.alpinelinux.org/alpine/v3.6/main
    https://dl-cdn.alpinelinux.org/alpine/v3.6/community
    @edge https://dl-cdn.alpinelinux.org/alpine/edge/testing
    https://zato.io/repo/stable/2.0/alpine >> /etc/apk/repositories


* Refresh the package list

::

    alpine# apk update


* Install the ``edge`` Zato dependencies separately

::
    alpine# apk add py-scipy@edge


* Alpine Linux can run with a variety of Linux kernels. Zato only works with a *vanilla*
kernel. If you are running the *vanilla* flavour of Alpine, which runs a *vanilla*
kernel by default, you can skip this step and the reboot; but if you are running
another flavour of Alpine, you have a *hardened* kernel by default, and need to make
sure your machine is running a *vanilla* kernel before using Zato.

::
    alpine# apk add linux-vanilla


* If you just added a *vanilla* kernel, reboot your machine, then choose the
"vanilla" option in the boot menu (not the "hardened" one); Let the machine boot,
then log in as root again.

::
    alpine# reboot


* You are now running a *vanilla* kernel and can proceed with the Zato installation.

::

    alpine# apk add zato


* Confirm that the installation was successful

::

    alpine# su - zato -c 'zato --version'
    Zato 2.0.7.rev-dfee180c
    alpine#


That concludes the process - you can refer to the main
:doc:`documentation index <../../../index>`
now.
